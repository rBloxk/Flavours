(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3185],{9079:function(e,t,r){Promise.resolve().then(r.t.bind(r,8877,23)),Promise.resolve().then(r.bind(r,2029)),Promise.resolve().then(r.bind(r,770)),Promise.resolve().then(r.bind(r,384)),Promise.resolve().then(r.bind(r,2761)),Promise.resolve().then(r.t.bind(r,3247,23))},2029:function(e,t,r){"use strict";r.r(t),r.d(t,{LayoutWrapper:function(){return L}});var s=r(7437),a=r(2265),n=r(770),o=r(4033),l=r(1396),i=r.n(l),d=r(3023),c=r(7309),u=r(3291),f=r(7158),m=r(2442),h=r(6369),x=r(9311);let p=u.fC,g=u.xz;u.ZA,u.Uv,u.Tr,u.Ee;let v=a.forwardRef((e,t)=>{let{className:r,inset:a,children:n,...o}=e;return(0,s.jsxs)(u.fF,{ref:t,className:(0,x.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",a&&"pl-8",r),...o,children:[n,(0,s.jsx)(f.Z,{className:"ml-auto h-4 w-4"})]})});v.displayName=u.fF.displayName;let b=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(u.tu,{ref:t,className:(0,x.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...a})});b.displayName=u.tu.displayName;let j=a.forwardRef((e,t)=>{let{className:r,sideOffset:a=4,...n}=e;return(0,s.jsx)(u.Uv,{children:(0,s.jsx)(u.VY,{ref:t,sideOffset:a,className:(0,x.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r),...n})})});j.displayName=u.VY.displayName;let N=a.forwardRef((e,t)=>{let{className:r,inset:a,...n}=e;return(0,s.jsx)(u.ck,{ref:t,className:(0,x.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a&&"pl-8",r),...n})});N.displayName=u.ck.displayName;let y=a.forwardRef((e,t)=>{let{className:r,children:a,checked:n,...o}=e;return(0,s.jsxs)(u.oC,{ref:t,className:(0,x.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),checked:n,...o,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(u.wU,{children:(0,s.jsx)(m.Z,{className:"h-4 w-4"})})}),a]})});y.displayName=u.oC.displayName;let w=a.forwardRef((e,t)=>{let{className:r,children:a,...n}=e;return(0,s.jsxs)(u.Rk,{ref:t,className:(0,x.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(u.wU,{children:(0,s.jsx)(h.Z,{className:"h-2 w-2 fill-current"})})}),a]})});w.displayName=u.Rk.displayName;let _=a.forwardRef((e,t)=>{let{className:r,inset:a,...n}=e;return(0,s.jsx)(u.__,{ref:t,className:(0,x.cn)("px-2 py-1.5 text-sm font-semibold",a&&"pl-8",r),...n})});_.displayName=u.__.displayName;let k=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(u.Z0,{ref:t,className:(0,x.cn)("-mx-1 my-1 h-px bg-muted",r),...a})});k.displayName=u.Z0.displayName;var Z=r(1350),P=r(3021),C=r(7810),A=r(7972),z=r(9409),S=r(4135),R=r(3088),E=r(5883);function F(){var e,t;let r=(0,o.usePathname)(),{user:a,profile:l,signOut:u}=(0,n.useAuth)(),{theme:f,setTheme:m}=(0,Z.F)();return a?(0,s.jsx)("nav",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,s.jsxs)("div",{className:"flex h-16 items-center justify-between px-6",children:[(0,s.jsx)("div",{className:"flex items-center",children:(0,s.jsx)("h1",{className:"text-xl font-bold",children:(()=>{switch(r){case"/feed":return"Home";case"/explore":return"Explore";case"/messages":return"Messages";case"/notifications":return"Notifications";case"/profile":return"Profile";case"/settings":return"Settings";case"/collections":return"Collections";case"/vault":return"Vault";case"/queue":return"Queue";case"/statements":return"Statements";case"/statistics":return"Statistics";case"/more":return"More";case"/creator/dashboard":return"Creator Dashboard";default:return"Flavours"}})()})}),(0,s.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,s.jsx)(d.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,s.jsx)(i(),{href:"/notifications",children:(0,s.jsx)(P.Z,{className:"h-5 w-5"})})}),(0,s.jsx)(d.z,{variant:"ghost",size:"sm",asChild:!0,children:(0,s.jsx)(i(),{href:"/favorites",children:(0,s.jsx)(C.Z,{className:"h-5 w-5"})})}),(0,s.jsxs)(p,{children:[(0,s.jsx)(g,{asChild:!0,children:(0,s.jsx)(d.z,{variant:"ghost",className:"relative h-10 w-10 rounded-full",children:(0,s.jsxs)(c.qE,{className:"h-10 w-10",children:[(0,s.jsx)(c.F$,{src:null==l?void 0:l.avatar_url,alt:null==l?void 0:l.display_name}),(0,s.jsx)(c.Q5,{children:(null==l?void 0:null===(e=l.display_name)||void 0===e?void 0:e.charAt(0))||(null===(t=a.email)||void 0===t?void 0:t.charAt(0))})]})})}),(0,s.jsxs)(j,{className:"w-56",align:"end",forceMount:!0,children:[(0,s.jsx)("div",{className:"flex items-center justify-start gap-2 p-2",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-1 leading-none",children:[(0,s.jsx)("p",{className:"font-medium",children:null==l?void 0:l.display_name}),(0,s.jsxs)("p",{className:"w-[200px] truncate text-sm text-muted-foreground",children:["@",null==l?void 0:l.username]})]})}),(0,s.jsx)(k,{}),(0,s.jsx)(N,{asChild:!0,children:(0,s.jsxs)(i(),{href:"/profile",children:[(0,s.jsx)(A.Z,{className:"mr-2 h-4 w-4"}),"Profile"]})}),(0,s.jsx)(N,{asChild:!0,children:(0,s.jsxs)(i(),{href:"/settings",children:[(0,s.jsx)(z.Z,{className:"mr-2 h-4 w-4"}),"Settings"]})}),(0,s.jsxs)(N,{onClick:()=>m("dark"===f?"light":"dark"),children:["dark"===f?(0,s.jsx)(S.Z,{className:"mr-2 h-4 w-4"}):(0,s.jsx)(R.Z,{className:"mr-2 h-4 w-4"}),"Toggle theme"]}),(0,s.jsx)(k,{}),(0,s.jsxs)(N,{onClick:u,children:[(0,s.jsx)(E.Z,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})]})]})}):null}var U=r(9155),q=r(2242),M=r(2176),O=r(5340),V=r(8438),I=r(8203),Q=r(6840),T=r(5790),Y=r(9534),B=r(9168),D=r(9883);function H(){let e=(0,o.usePathname)(),{user:t,profile:r}=(0,n.useAuth)(),a=t=>e===t;if(!t||!r)return null;let l=[{id:"feed",label:"Home",icon:q.Z,href:"/feed",badge:null},{id:"notifications",label:"Notifications",icon:P.Z,href:"/notifications",badge:null},{id:"messages",label:"Messages",icon:M.Z,href:"/messages",badge:2},{id:"collections",label:"Collections",icon:O.Z,href:"/collections",badge:null},{id:"vault",label:"Vault",icon:V.Z,href:"/vault",badge:null},{id:"queue",label:"Queue",icon:I.Z,href:"/queue",badge:null},{id:"statements",label:"Statements",icon:Q.Z,href:"/statements",badge:null},{id:"statistics",label:"Statistics",icon:T.Z,href:"/statistics",badge:null},{id:"profile",label:"My Profile",icon:A.Z,href:"/profile",badge:null},{id:"more",label:"More",icon:Y.Z,href:"/more",badge:null}];return(0,s.jsxs)("div",{className:"w-64 bg-background border-r h-screen fixed left-0 top-0 z-40 flex flex-col",children:[(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)(i(),{href:"/feed",className:"flex items-center space-x-2",children:[(0,s.jsx)("div",{className:"flex h-8 w-8 items-center justify-center rounded-full bg-primary",children:(0,s.jsx)(B.Z,{className:"h-5 w-5 text-primary-foreground"})}),(0,s.jsx)("span",{className:"font-bold text-xl bg-gradient-to-r from-purple-600 to-pink-600 bg-clip-text text-transparent",children:"Flavours"})]})}),(0,s.jsx)("div",{className:"flex-1 overflow-y-auto",children:(0,s.jsx)("nav",{className:"space-y-1 px-3",children:l.map(e=>{let t=e.icon;return(0,s.jsx)(i(),{href:e.href,children:(0,s.jsxs)("div",{className:"flex items-center space-x-4 px-3 py-3 rounded-full transition-colors cursor-pointer ".concat(a(e.href)?"bg-primary text-primary-foreground":"hover:bg-muted/50"),children:[(0,s.jsx)(t,{className:"h-6 w-6"}),(0,s.jsx)("span",{className:"text-lg font-medium",children:e.label}),e.badge&&(0,s.jsx)(U.C,{variant:"destructive",className:"ml-auto h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs",children:e.badge})]})},e.id)})})}),(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)(d.z,{className:"w-full h-12 bg-primary hover:bg-primary/90 rounded-full font-semibold",children:[(0,s.jsx)(D.Z,{className:"h-5 w-5 mr-2"}),"Post"]})})]})}function L(e){let{children:t}=e,{user:r}=(0,n.useAuth)(),a=(0,o.usePathname)(),l=["/","/auth"].includes(a);return!r||l?(0,s.jsx)("main",{className:"min-h-screen",children:t}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(H,{}),(0,s.jsxs)("div",{className:"ml-64 flex flex-col min-h-screen",children:[(0,s.jsx)(F,{}),(0,s.jsx)("main",{className:"flex-1",children:t})]})]})}},770:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthProvider:function(){return o},useAuth:function(){return l}});var s=r(7437),a=r(2265);let n=(0,a.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,a.useState)(null),[l,i]=(0,a.useState)(null),[d,c]=(0,a.useState)(!0);(0,a.useEffect)(()=>{console.log("AuthProvider: Running in demo mode - authentication bypassed");let e=localStorage.getItem("isAuthenticated"),t=localStorage.getItem("demoUser");if(console.log("AuthProvider: isAuthenticated:",e),console.log("AuthProvider: demoUserStr:",t),"true"===e&&t)try{let e=JSON.parse(t);console.log("AuthProvider: Setting user from localStorage:",e);let r={id:e.id,email:e.email,user_metadata:{username:e.username,display_name:e.display_name,is_creator:e.is_creator}};o(r),i({id:e.id,user_id:e.id,username:e.username,display_name:e.display_name,avatar_url:e.avatar_url,bio:"Demo user bio",is_creator:e.is_creator,is_verified:!1,created_at:e.created_at})}catch(e){console.error("Demo user parsing error:",e)}console.log("AuthProvider: Setting loading to false"),c(!1)},[]);let u=async()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("demoUser"),o(null),i(null),window.location.href="/flavours-feeds"};return(0,s.jsx)(n.Provider,{value:{user:r,profile:l,loading:d,signOut:u},children:t})}function l(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},384:function(e,t,r){"use strict";r.r(t),r.d(t,{ThemeProvider:function(){return n}});var s=r(7437);r(2265);var a=r(1350);function n(e){let{children:t,...r}=e;return(0,s.jsx)(a.f,{...r,children:t})}},7309:function(e,t,r){"use strict";r.d(t,{F$:function(){return i},Q5:function(){return d},qE:function(){return l}});var s=r(7437),a=r(2265),n=r(6694),o=r(9311);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.fC,{ref:t,className:(0,o.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",r),...a})});l.displayName=n.fC.displayName;let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.Ee,{ref:t,className:(0,o.cn)("aspect-square h-full w-full",r),...a})});i.displayName=n.Ee.displayName;let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)(n.NY,{ref:t,className:(0,o.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",r),...a})});d.displayName=n.NY.displayName},9155:function(e,t,r){"use strict";r.d(t,{C:function(){return l}});var s=r(7437);r(2265);var a=r(9213),n=r(9311);let o=(0,a.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function l(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,n.cn)(o({variant:r}),t),...a})}},3023:function(e,t,r){"use strict";r.d(t,{z:function(){return d}});var s=r(7437),a=r(2265),n=r(7256),o=r(9213),l=r(9311);let i=(0,o.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:o,asChild:d=!1,...c}=e,u=d?n.g7:"button";return(0,s.jsx)(u,{className:(0,l.cn)(i({variant:a,size:o,className:r})),ref:t,...c})});d.displayName="Button"},2761:function(e,t,r){"use strict";r.r(t),r.d(t,{Toaster:function(){return o}});var s=r(7437),a=r(1350),n=r(1424);let o=e=>{let{...t}=e,{theme:r="system"}=(0,a.F)();return(0,s.jsx)(n.x7,{theme:r,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})}},9311:function(e,t,r){"use strict";r.d(t,{cn:function(){return n}});var s=r(7042),a=r(4769);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,s.W)(t))}},8877:function(){}},function(e){e.O(0,[4395,9854,1706,2821,807,8440,2971,7864,1744],function(){return e(e.s=9079)}),_N_E=e.O()}]);