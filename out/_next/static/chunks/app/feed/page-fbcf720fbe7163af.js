(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7826],{777:function(e,s,t){Promise.resolve().then(t.bind(t,2571))},2571:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return X}});var a=t(7437),r=t(2265),i=t(4033),l=t(3023),n=t(7309),o=t(9155),c=t(5771),d=t(8712),u=t(2549),m=t(9311);let x=d.fC,p=d.xz,h=d.h_;d.x8;let f=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(d.aV,{ref:s,className:(0,m.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});f.displayName=d.aV.displayName;let g=r.forwardRef((e,s)=>{let{className:t,children:r,...i}=e;return(0,a.jsxs)(h,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(d.VY,{ref:s,className:(0,m.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:[r,(0,a.jsxs)(d.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(u.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});g.displayName=d.VY.displayName;let v=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(d.Dx,{ref:s,className:(0,m.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});v.displayName=d.Dx.displayName;let j=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(d.dk,{ref:s,className:(0,m.cn)("text-sm text-muted-foreground",t),...r})});j.displayName=d.dk.displayName;var N=t(6775),b=t(770),y=t(8956),w=t(5750),k=t(5589),C=t(6141),z=t(2851),S=t(7562),Z=t(1973),A=t(1243),_=t(3101),P=t(4900),D=t(8438),R=t(6142),U=t(8203),E=t(1298),M=t(7803),F=t(4043),V=t(6489),L=t(9864),O=t(5432),B=t(3715),I=t(2369),T=t(1424);function W(e){var s;let{children:t}=e,{profile:i}=(0,b.useAuth)(),[d,m]=(0,r.useState)(!1),[h,f]=(0,r.useState)(""),[v,j]=(0,r.useState)([]),[W,q]=(0,r.useState)("public"),[$,J]=(0,r.useState)(!1),[Q,Y]=(0,r.useState)(!1),[G,H]=(0,r.useState)(!1),[K,X]=(0,r.useState)(!1),[ee,es]=(0,r.useState)(0),[et,ea]=(0,r.useState)(!1),[er,ei]=(0,r.useState)(!1),[el,en]=(0,r.useState)(!1),[eo,ec]=(0,r.useState)(!1),[ed,eu]=(0,r.useState)(!1),[em,ex]=(0,r.useState)(0),[ep,eh]=(0,r.useState)([]),[ef,eg]=(0,r.useState)([]),[ev,ej]=(0,r.useState)(""),[eN,eb]=(0,r.useState)(null),ey=(0,r.useRef)(null),ew=(0,r.useRef)(null),ek=(0,r.useRef)(null),eC=(0,r.useRef)(null),[ez,eS]=(0,r.useState)(null),eZ=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),s=new MediaRecorder(e);eC.current=s;let t=[];s.ondataavailable=e=>{t.push(e.data)},s.onstop=()=>{let s=new Blob(t,{type:"audio/wav"});eS(s),e.getTracks().forEach(e=>e.stop())},s.start(),Y(!0)}catch(e){T.Am.error("Could not access microphone")}};(0,r.useEffect)(()=>{es(h.length);let e=h.match(/#\w+/g)||[],s=h.match(/@\w+/g)||[];eh(e.map(e=>e.slice(1))),eg(s.map(e=>e.slice(1)))},[h]),(0,r.useEffect)(()=>{ey.current&&(ey.current.style.height="auto",ey.current.style.height="".concat(ey.current.scrollHeight,"px"))},[h]);let eA=e=>{j(s=>s.filter((s,t)=>t!==e))},e_=()=>{localStorage.removeItem("postDraft"),ea(!1),T.Am.success("Draft cleared!")},eP=async()=>{if(!h.trim()&&0===v.length&&!ez){T.Am.error("Please add some content, media, or audio to your post");return}J(!0);try{let e={content:h,mediaFiles:v.map(e=>({type:e.type,size:e.size,duration:e.duration})),audioBlob:ez?"audio_attached":null,privacy:W,tags:ep,mentions:ef,location:ev,scheduledTime:eN,isPaidContent:"paid"===W,price:"paid"===W?em:null};console.log("Posting:",e),await new Promise(e=>setTimeout(e,1500)),T.Am.success("Post created successfully!"),m(!1),f(""),j([]),eS(null),eh([]),eg([]),ej(""),eb(null),ex(0),ea(!1),e_()}catch(e){T.Am.error("Failed to create post")}finally{J(!1)}},eD=e=>{if(0===e)return"0 Bytes";let s=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,s)).toFixed(2))+" "+["Bytes","KB","MB","GB"][s]},eR=e=>"".concat(Math.floor(e/60),":").concat(Math.floor(e%60).toString().padStart(2,"0")),eU=[{value:"public",label:"Public",icon:y.Z,description:"Anyone can see this post",color:"text-green-500"},{value:"followers",label:"Followers",icon:w.Z,description:"Only your followers can see this post",color:"text-blue-500"},{value:"paid",label:"Paid Content",icon:k.Z,description:"Only paid subscribers can see this post",color:"text-purple-500"}];return(0,a.jsxs)(x,{open:d,onOpenChange:m,children:[(0,a.jsx)(p,{asChild:!0,children:t}),(0,a.jsx)(g,{className:"max-w-4xl max-h-[95vh] overflow-y-auto p-0",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"sticky top-0 bg-background border-b p-6 pb-4 z-10",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)(n.qE,{className:"h-12 w-12",children:[(0,a.jsx)(n.F$,{src:null==i?void 0:i.avatar_url,alt:null==i?void 0:i.display_name}),(0,a.jsx)(n.Q5,{className:"text-lg",children:(null==i?void 0:null===(s=i.display_name)||void 0===s?void 0:s.charAt(0))||"U"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:null==i?void 0:i.display_name}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["@",null==i?void 0:i.username]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[et&&(0,a.jsxs)(o.C,{variant:"secondary",className:"animate-pulse",children:[(0,a.jsx)(C.Z,{className:"h-3 w-3 mr-1"}),"Draft Saved"]}),(0,a.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>X(!K),children:[(0,a.jsx)(z.Z,{className:"h-4 w-4 mr-2"}),K?"Simple":"Advanced"]})]})]})}),(0,a.jsxs)("div",{className:"p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.g,{ref:ey,placeholder:"What's happening? Share your thoughts, ideas, or experiences...",value:h,onChange:e=>f(e.target.value),className:"min-h-[200px] resize-none border-0 text-lg focus-visible:ring-0 bg-transparent p-0"}),(0,a.jsxs)("div",{className:"absolute bottom-2 right-2 text-xs text-muted-foreground",children:[ee,"/280"]})]}),(ep.length>0||ef.length>0)&&(0,a.jsxs)("div",{className:"space-y-2",children:[ep.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Tags:"}),ep.map((e,s)=>(0,a.jsxs)(o.C,{variant:"secondary",className:"text-xs",children:[(0,a.jsx)(S.Z,{className:"h-3 w-3 mr-1"}),e]},s))]}),ef.length>0&&(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Mentions:"}),ef.map((e,s)=>(0,a.jsxs)(o.C,{variant:"outline",className:"text-xs",children:[(0,a.jsx)(Z.Z,{className:"h-3 w-3 mr-1"}),e]},s))]})]}),ez&&(0,a.jsxs)("div",{className:"bg-muted/50 rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 bg-primary/10 rounded-full flex items-center justify-center",children:(0,a.jsx)(A.Z,{className:"h-5 w-5 text-primary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Voice Note"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Audio attachment"})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(l.z,{size:"sm",variant:"outline",onClick:G?()=>{ek.current&&(ek.current.pause(),H(!1))}:()=>{if(ez&&ek.current){let e=URL.createObjectURL(ez);ek.current.src=e,ek.current.play(),H(!0)}},children:G?(0,a.jsx)(_.Z,{className:"h-4 w-4"}):(0,a.jsx)(P.Z,{className:"h-4 w-4"})}),(0,a.jsx)(l.z,{size:"sm",variant:"ghost",onClick:()=>eS(null),children:(0,a.jsx)(u.Z,{className:"h-4 w-4"})})]})]}),(0,a.jsx)("audio",{ref:ek,onEnded:()=>H(!1)})]}),v.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h4",{className:"text-sm font-medium flex items-center",children:[(0,a.jsx)(D.Z,{className:"h-4 w-4 mr-2"}),"Media (",v.length,")"]}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:v.map((e,s)=>(0,a.jsxs)("div",{className:"relative group",children:["image"===e.type?(0,a.jsx)("img",{src:e.preview,alt:"Preview ".concat(s+1),className:"w-full h-32 object-cover rounded-lg"}):(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("video",{src:e.preview,className:"w-full h-32 object-cover rounded-lg",controls:!0}),e.duration&&(0,a.jsx)("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:eR(e.duration)})]}),(0,a.jsx)("div",{className:"absolute top-2 left-2 bg-black/70 text-white text-xs px-2 py-1 rounded",children:eD(e.size)}),(0,a.jsx)(l.z,{size:"sm",variant:"destructive",className:"absolute top-2 right-2 h-6 w-6 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>eA(s),children:(0,a.jsx)(u.Z,{className:"h-3 w-3"})})]},s))})]}),K&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(N.Z,{}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium flex items-center",children:[(0,a.jsx)(R.Z,{className:"h-4 w-4 mr-2"}),"Location"]}),(0,a.jsx)("input",{type:"text",placeholder:"Add location...",value:ev,onChange:e=>ej(e.target.value),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium flex items-center",children:[(0,a.jsx)(U.Z,{className:"h-4 w-4 mr-2"}),"Schedule Post"]}),(0,a.jsx)("input",{type:"datetime-local",value:eN?eN.toISOString().slice(0,16):"",onChange:e=>eb(e.target.value?new Date(e.target.value):null),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]}),"paid"===W&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-sm font-medium flex items-center",children:[(0,a.jsx)(E.Z,{className:"h-4 w-4 mr-2"}),"Price (USD)"]}),(0,a.jsx)("input",{type:"number",min:"0",step:"0.01",placeholder:"0.00",value:em,onChange:e=>ex(parseFloat(e.target.value)||0),className:"w-full px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary"})]})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("h4",{className:"text-sm font-medium",children:"Who can see this post?"}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:eU.map(e=>{let s=e.icon;return(0,a.jsxs)("label",{className:"flex items-center space-x-3 p-4 border-2 rounded-lg cursor-pointer transition-all hover:bg-muted/50 ".concat(W===e.value?"border-primary bg-primary/5":"border-border"),children:[(0,a.jsx)("input",{type:"radio",name:"privacy",value:e.value,checked:W===e.value,onChange:e=>q(e.target.value),className:"sr-only"}),(0,a.jsx)(s,{className:"h-5 w-5 ".concat(e.color)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("p",{className:"font-medium",children:e.label}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.description})]}),W===e.value&&(0,a.jsx)("div",{className:"w-3 h-3 bg-primary rounded-full"})]},e.value)})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between pt-6 border-t",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{ref:ew,type:"file",multiple:!0,accept:"image/*,video/*",onChange:e=>{let s=e.target.files;s&&Array.from(s).forEach(e=>{if(e.size>10485760){T.Am.error("File ".concat(e.name," is too large. Maximum size is 10MB."));return}if(e.type.startsWith("image/")){let s=new FileReader;s.onload=s=>{var t;let a=new window.Image;a.onload=()=>{j(t=>{var a;return[...t,{file:e,preview:null===(a=s.target)||void 0===a?void 0:a.result,type:"image",size:e.size}]})},a.src=null===(t=s.target)||void 0===t?void 0:t.result},s.readAsDataURL(e)}else if(e.type.startsWith("video/")){let s=new FileReader;s.onload=s=>{var t;let a=document.createElement("video");a.onloadedmetadata=()=>{j(t=>{var r;return[...t,{file:e,preview:null===(r=s.target)||void 0===r?void 0:r.result,type:"video",duration:a.duration,size:e.size}]})},a.src=null===(t=s.target)||void 0===t?void 0:t.result},s.readAsDataURL(e)}})},className:"hidden"}),(0,a.jsxs)(l.z,{variant:"outline",size:"sm",onClick:()=>{var e;return null===(e=ew.current)||void 0===e?void 0:e.click()},className:"flex items-center space-x-2",children:[(0,a.jsx)(D.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:"Media"})]}),(0,a.jsxs)(l.z,{variant:"outline",size:"sm",onClick:Q?()=>{eC.current&&(eC.current.stop(),Y(!1))}:eZ,className:"flex items-center space-x-2 ".concat(Q?"bg-red-50 border-red-200 text-red-600":""),children:[Q?(0,a.jsx)(M.Z,{className:"h-4 w-4"}):(0,a.jsx)(F.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{children:Q?"Stop":"Voice"})]}),(0,a.jsx)(l.z,{variant:"outline",size:"sm",onClick:()=>ei(!er),children:(0,a.jsx)(V.Z,{className:"h-4 w-4"})}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>{localStorage.setItem("postDraft",JSON.stringify({content:h,mediaFiles:v,privacy:W,scheduledTime:eN||void 0,location:ev,tags:ep,mentions:ef,isPaidContent:"paid"===W,price:"paid"===W?em:void 0})),ea(!0),T.Am.success("Draft saved!")},children:[(0,a.jsx)(L.Z,{className:"h-4 w-4 mr-1"}),"Save"]}),(0,a.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>{let e=localStorage.getItem("postDraft");if(e){let s=JSON.parse(e);f(s.content),j(s.mediaFiles),q(s.privacy),eb(s.scheduledTime?new Date(s.scheduledTime):null),ej(s.location||""),eh(s.tags),eg(s.mentions),ex(s.price||0),ea(!1),T.Am.success("Draft loaded!")}},children:[(0,a.jsx)(O.Z,{className:"h-4 w-4 mr-1"}),"Load"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)(l.z,{variant:"outline",onClick:()=>m(!1),children:"Cancel"}),(0,a.jsx)(l.z,{onClick:eP,disabled:$||!h.trim()&&0===v.length&&!ez,className:"min-w-[120px]",children:$?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(B.Z,{className:"mr-2 h-4 w-4 animate-spin"}),"Posting..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(I.Z,{className:"mr-2 h-4 w-4"}),eN?"Schedule":"Post"]})})]})]})]})]})})]})}var q=t(8339),$=t(9883),J=t(9168),Q=t(9534),Y=t(2176),G=t(7810),H=t(9764);function K(){let e=(0,i.useRouter)(),[s,t]=(0,r.useState)(""),c=s=>{e.push("/post/".concat(s))},d=s=>{e.push("/profile/".concat(s))},u=e=>{switch(e){case"public":default:return(0,a.jsx)(y.Z,{className:"h-3 w-3"});case"followers":return(0,a.jsx)(w.Z,{className:"h-3 w-3"});case"paid":return(0,a.jsx)(k.Z,{className:"h-3 w-3"})}},m=e=>{console.log("Liked post:",e)},x=e=>{console.log("Comment on post:",e)},p=e=>{console.log("Share post:",e)},h=(e,s)=>{console.log("Unlock post:",e,"for $",s)};return(0,a.jsxs)("div",{className:"max-w-2xl mx-auto",children:[" ",(0,a.jsx)("br",{}),(0,a.jsx)("div",{className:"bg-card border border-border rounded-xl p-6 mb-6 shadow-sm",children:(0,a.jsx)(W,{children:(0,a.jsxs)("div",{className:"flex space-x-4 cursor-pointer group",children:[(0,a.jsx)(n.qE,{className:"h-12 w-12 ring-2 ring-transparent group-hover:ring-primary/20 transition-all",children:(0,a.jsx)(n.Q5,{className:"text-lg font-semibold",children:"DU"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"bg-muted/50 rounded-xl p-4 text-muted-foreground hover:bg-muted transition-all duration-200 group-hover:shadow-sm",children:(0,a.jsx)("span",{className:"text-base",children:"What's happening? Share your thoughts..."})}),(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-1 px-3 py-2 rounded-lg hover:bg-muted/50 transition-colors",children:[(0,a.jsx)(D.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Photo"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 px-3 py-2 rounded-lg hover:bg-muted/50 transition-colors",children:[(0,a.jsx)(q.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Video"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 px-3 py-2 rounded-lg hover:bg-muted/50 transition-colors",children:[(0,a.jsx)(V.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"Emoji"})]})]}),(0,a.jsxs)(l.z,{className:"rounded-full px-8 py-2 bg-gradient-to-r from-primary to-primary/80 hover:from-primary/90 hover:to-primary/70 transition-all shadow-lg hover:shadow-xl",children:[(0,a.jsx)($.Z,{className:"mr-2 h-4 w-4"}),"Create Post"]})]})]})]})})}),(0,a.jsx)("div",{className:"divide-y divide-border",children:[{id:"1",creator:{id:"user_1",username:"jane_fitness",displayName:"Jane Smith",avatarUrl:"https://images.pexels.com/photos/733872/pexels-photo-733872.jpeg?auto=compress&cs=tinysrgb&w=150",isVerified:!0},content:"New workout video is live! \uD83D\uDCAA Who's ready to sweat with me? #FitnessMotivation",mediaUrl:"https://images.pexels.com/photos/416809/pexels-photo-416809.jpeg?auto=compress&cs=tinysrgb&w=800",isPaid:!1,price:null,privacy:"public",likesCount:234,commentsCount:18,createdAt:"2h",isLiked:!1},{id:"2",creator:{id:"user_2",username:"artist_maya",displayName:"Maya Chen",avatarUrl:"https://images.pexels.com/photos/1310522/pexels-photo-1310522.jpeg?auto=compress&cs=tinysrgb&w=150",isVerified:!1},content:"Behind the scenes of my latest art piece \uD83C\uDFA8âœ¨",mediaUrl:"https://images.pexels.com/photos/1047540/pexels-photo-1047540.jpeg?auto=compress&cs=tinysrgb&w=800",isPaid:!0,price:15,privacy:"paid",likesCount:89,commentsCount:12,createdAt:"4h",isLiked:!1},{id:"3",creator:{id:"user_3",username:"chef_marco",displayName:"Marco Rodriguez",avatarUrl:"https://images.pexels.com/photos/1040880/pexels-photo-1040880.jpeg?auto=compress&cs=tinysrgb&w=150",isVerified:!0},content:"Exclusive recipe reveal! My signature pasta dish that took me 5 years to perfect \uD83C\uDF5D",mediaUrl:"https://images.pexels.com/photos/1435735/pexels-photo-1435735.jpeg?auto=compress&cs=tinysrgb&w=800",isPaid:!0,price:25,privacy:"followers",likesCount:156,commentsCount:23,createdAt:"6h",isLiked:!0}].map(e=>(0,a.jsx)("div",{className:"p-4 hover:bg-muted/50 transition-colors",children:(0,a.jsxs)("div",{className:"flex space-x-3",children:[(0,a.jsxs)(n.qE,{className:"h-10 w-10 cursor-pointer",onClick:()=>d(e.creator.username),children:[(0,a.jsx)(n.F$,{src:e.creator.avatarUrl,alt:e.creator.displayName}),(0,a.jsx)(n.Q5,{children:e.creator.displayName.charAt(0)})]}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2 mb-1",children:[(0,a.jsx)("span",{className:"font-semibold text-sm cursor-pointer hover:underline",onClick:()=>d(e.creator.username),children:e.creator.displayName}),e.creator.isVerified&&(0,a.jsx)(J.Z,{className:"h-4 w-4 text-yellow-500"}),(0,a.jsxs)("span",{className:"text-muted-foreground text-sm cursor-pointer hover:underline",onClick:()=>d(e.creator.username),children:["@",e.creator.username]}),(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"\xb7"}),(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:e.createdAt}),(0,a.jsx)("span",{className:"text-muted-foreground text-sm",children:"\xb7"}),(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[u(e.privacy),(0,a.jsx)("span",{className:"text-muted-foreground text-sm capitalize",children:e.privacy})]}),(0,a.jsx)(l.z,{variant:"ghost",size:"sm",className:"ml-auto h-6 w-6 p-0",children:(0,a.jsx)(Q.Z,{className:"h-4 w-4"})})]}),(0,a.jsx)("p",{className:"text-sm mb-3 whitespace-pre-wrap cursor-pointer",onClick:()=>c(e.id),children:e.content}),e.mediaUrl&&(0,a.jsxs)("div",{className:"relative mb-3 rounded-2xl overflow-hidden cursor-pointer",onClick:()=>c(e.id),children:[(0,a.jsx)("div",{className:"aspect-video bg-gradient-to-br from-purple-400 to-pink-400 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center text-white",children:[(0,a.jsx)(D.Z,{className:"h-12 w-12 mx-auto mb-2"}),(0,a.jsx)("p",{className:"text-lg font-medium",children:"Media Preview"}),(0,a.jsx)("p",{className:"text-sm opacity-80",children:"Click to view"})]})}),e.isPaid&&(0,a.jsx)("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:(0,a.jsxs)("div",{className:"text-center text-white",children:[(0,a.jsx)(k.Z,{className:"h-8 w-8 mx-auto mb-2"}),(0,a.jsx)("p",{className:"font-medium",children:"Premium Content"}),(0,a.jsxs)(l.z,{onClick:()=>h(e.id,e.price),className:"mt-2 bg-white text-black hover:bg-white/90",children:["Unlock for $",e.price]})]})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between max-w-md",children:[(0,a.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>x(e.id),className:"flex items-center space-x-2 text-muted-foreground hover:text-blue-600",children:[(0,a.jsx)(Y.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-sm",children:e.commentsCount})]}),(0,a.jsxs)(l.z,{variant:"ghost",size:"sm",onClick:()=>m(e.id),className:"flex items-center space-x-2 ".concat(e.isLiked?"text-red-600":"text-muted-foreground hover:text-red-600"),children:[(0,a.jsx)(G.Z,{className:"h-4 w-4 ".concat(e.isLiked?"fill-current":"")}),(0,a.jsx)("span",{className:"text-sm",children:e.likesCount})]}),(0,a.jsx)(l.z,{variant:"ghost",size:"sm",onClick:()=>p(e.id),className:"flex items-center space-x-2 text-muted-foreground hover:text-green-600",children:(0,a.jsx)(H.Z,{className:"h-4 w-4"})})]}),e.isPaid&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsxs)(o.C,{variant:"secondary",className:"bg-purple-100 text-purple-800",children:[(0,a.jsx)(J.Z,{className:"h-3 w-3 mr-1"}),"Premium"]})})]})]})},e.id))})]})}function X(){return(0,a.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,a.jsx)(K,{})})}},770:function(e,s,t){"use strict";t.r(s),t.d(s,{AuthProvider:function(){return l},useAuth:function(){return n}});var a=t(7437),r=t(2265);let i=(0,r.createContext)(void 0);function l(e){let{children:s}=e,[t,l]=(0,r.useState)(null),[n,o]=(0,r.useState)(null),[c,d]=(0,r.useState)(!0);(0,r.useEffect)(()=>{console.log("AuthProvider: Running in demo mode - authentication bypassed");let e=localStorage.getItem("isAuthenticated"),s=localStorage.getItem("demoUser");if(console.log("AuthProvider: isAuthenticated:",e),console.log("AuthProvider: demoUserStr:",s),"true"===e&&s)try{let e=JSON.parse(s);console.log("AuthProvider: Setting user from localStorage:",e);let t={id:e.id,email:e.email,user_metadata:{username:e.username,display_name:e.display_name,is_creator:e.is_creator}};l(t),o({id:e.id,user_id:e.id,username:e.username,display_name:e.display_name,avatar_url:e.avatar_url,bio:"Demo user bio",is_creator:e.is_creator,is_verified:!1,created_at:e.created_at})}catch(e){console.error("Demo user parsing error:",e)}console.log("AuthProvider: Setting loading to false"),d(!1)},[]);let u=async()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("demoUser"),l(null),o(null),window.location.href="/flavours-feeds"};return(0,a.jsx)(i.Provider,{value:{user:t,profile:n,loading:c,signOut:u},children:s})}function n(){let e=(0,r.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7309:function(e,s,t){"use strict";t.d(s,{F$:function(){return o},Q5:function(){return c},qE:function(){return n}});var a=t(7437),r=t(2265),i=t(6694),l=t(9311);let n=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.fC,{ref:s,className:(0,l.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...r})});n.displayName=i.fC.displayName;let o=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.Ee,{ref:s,className:(0,l.cn)("aspect-square h-full w-full",t),...r})});o.displayName=i.Ee.displayName;let c=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)(i.NY,{ref:s,className:(0,l.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...r})});c.displayName=i.NY.displayName},9155:function(e,s,t){"use strict";t.d(s,{C:function(){return n}});var a=t(7437);t(2265);var r=t(9213),i=t(9311);let l=(0,r.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)(l({variant:t}),s),...r})}},3023:function(e,s,t){"use strict";t.d(s,{z:function(){return c}});var a=t(7437),r=t(2265),i=t(7256),l=t(9213),n=t(9311);let o=(0,l.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef((e,s)=>{let{className:t,variant:r,size:l,asChild:c=!1,...d}=e,u=c?i.g7:"button";return(0,a.jsx)(u,{className:(0,n.cn)(o({variant:r,size:l,className:t})),ref:s,...d})});c.displayName="Button"},6775:function(e,s,t){"use strict";t.d(s,{Z:function(){return n}});var a=t(7437),r=t(2265),i=t(6823),l=t(9311);let n=r.forwardRef((e,s)=>{let{className:t,orientation:r="horizontal",decorative:n=!0,...o}=e;return(0,a.jsx)(i.f,{ref:s,decorative:n,orientation:r,className:(0,l.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",t),...o})});n.displayName=i.f.displayName},5771:function(e,s,t){"use strict";t.d(s,{g:function(){return l}});var a=t(7437),r=t(2265),i=t(9311);let l=r.forwardRef((e,s)=>{let{className:t,...r}=e;return(0,a.jsx)("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:s,...r})});l.displayName="Textarea"},9311:function(e,s,t){"use strict";t.d(s,{cn:function(){return i}});var a=t(7042),r=t(4769);function i(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.m6)((0,a.W)(s))}}},function(e){e.O(0,[4395,1706,807,1797,2971,7864,1744],function(){return e(e.s=777)}),_N_E=e.O()}]);