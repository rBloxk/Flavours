# Flavours Platform Production Environment Configuration
# Copy this file to .env.production and update with your actual values

# =============================================
# APPLICATION CONFIGURATION
# =============================================
NODE_ENV=production
PORT=3001
HOST=0.0.0.0
FRONTEND_URL=https://your-domain.com
NEXT_PUBLIC_API_URL=https://api.your-domain.com
NEXT_PUBLIC_WEBSOCKET_URL=wss://api.your-domain.com

# =============================================
# DATABASE CONFIGURATION
# =============================================
# PostgreSQL Database
DATABASE_URL=postgresql://username:password@host:5432/database_name
POSTGRES_DB=flavours
POSTGRES_USER=flavours
POSTGRES_PASSWORD=your-secure-postgres-password
DB_MAX_CONNECTIONS=20
DB_CONNECTION_TIMEOUT=30000
DB_IDLE_TIMEOUT=30000
DB_SSL=true

# Redis Cache
REDIS_URL=redis://username:password@host:6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-secure-redis-password
REDIS_DB=0

# =============================================
# SUPABASE CONFIGURATION
# =============================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your-supabase-anon-key
SUPABASE_SERVICE_ROLE_KEY=your-supabase-service-role-key
SUPABASE_JWT_SECRET=your-supabase-jwt-secret

# =============================================
# AUTHENTICATION & SECURITY
# =============================================
JWT_SECRET=your-super-secure-jwt-secret-key-minimum-32-characters
JWT_EXPIRES_IN=24h
JWT_REFRESH_EXPIRES_IN=7d
JWT_ISSUER=flavours-api
JWT_AUDIENCE=flavours-app

# Security
BCRYPT_ROUNDS=12
SESSION_SECRET=your-super-secure-session-secret
CSRF_SECRET=your-super-secure-csrf-secret
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com
TRUSTED_PROXIES=127.0.0.1,::1

# =============================================
# PAYMENT PROCESSING
# =============================================
# Stripe Configuration
STRIPE_SECRET_KEY=sk_live_your-stripe-secret-key
STRIPE_PUBLISHABLE_KEY=pk_live_your-stripe-publishable-key
STRIPE_WEBHOOK_SECRET=whsec_your-stripe-webhook-secret

# PayPal Configuration (Optional)
PAYPAL_CLIENT_ID=your-paypal-client-id
PAYPAL_CLIENT_SECRET=your-paypal-client-secret
PAYPAL_ENVIRONMENT=live

# Platform Settings
PLATFORM_FEE=0.05
MINIMUM_PAYOUT=50.00

# =============================================
# FILE STORAGE
# =============================================
STORAGE_PROVIDER=s3
MAX_FILE_SIZE=104857600

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=your-s3-bucket-name
AWS_S3_ENDPOINT=https://s3.amazonaws.com

# Cloudinary Configuration (Alternative)
CLOUDINARY_CLOUD_NAME=your-cloudinary-cloud-name
CLOUDINARY_API_KEY=your-cloudinary-api-key
CLOUDINARY_API_SECRET=your-cloudinary-api-secret

# Local Storage (Development)
LOCAL_STORAGE_PATH=./storage

# =============================================
# EMAIL CONFIGURATION
# =============================================
EMAIL_PROVIDER=smtp
EMAIL_FROM_NAME=Flavours
EMAIL_FROM_EMAIL=noreply@your-domain.com

# SMTP Configuration
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-password

# SendGrid Configuration (Alternative)
SENDGRID_API_KEY=your-sendgrid-api-key

# =============================================
# MONITORING & OBSERVABILITY
# =============================================
# Sentry Error Tracking
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_TRACES_SAMPLE_RATE=0.1

# New Relic APM
NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=Flavours API

# Prometheus Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# =============================================
# RATE LIMITING
# =============================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100

# =============================================
# LOGGING CONFIGURATION
# =============================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/app.log
LOG_FILE_MAX_SIZE=10m
LOG_FILE_MAX_FILES=5
LOG_CONSOLE_ENABLED=true

# =============================================
# CACHE CONFIGURATION
# =============================================
CACHE_TTL_DEFAULT=3600
CACHE_TTL_USER=1800
CACHE_TTL_CONTENT=7200
CACHE_TTL_ANALYTICS=300
CACHE_MAX_MEMORY=512mb

# =============================================
# FEATURE FLAGS
# =============================================
FEATURE_CAMS=true
FEATURE_FLAVOURSTALK=true
FEATURE_ANALYTICS=true
FEATURE_NOTIFICATIONS=true
FEATURE_PAYMENTS=true
FEATURE_MODERATION=true

# =============================================
# API CONFIGURATION
# =============================================
API_VERSION=v1
API_PREFIX=/api
API_TIMEOUT=30000
API_MAX_REQUEST_SIZE=10mb

# =============================================
# HEALTH CHECK CONFIGURATION
# =============================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30000

# =============================================
# MONITORING SERVICES
# =============================================
# Grafana
GRAFANA_ADMIN_PASSWORD=your-grafana-admin-password

# Elasticsearch (for logging)
ELASTICSEARCH_URL=http://elasticsearch:9200

# =============================================
# SSL/TLS CONFIGURATION
# =============================================
SSL_CERT_PATH=/etc/nginx/ssl/cert.pem
SSL_KEY_PATH=/etc/nginx/ssl/key.pem

# =============================================
# MINIO OBJECT STORAGE (Optional)
# =============================================
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=your-minio-password

# =============================================
# DEVELOPMENT OVERRIDES (Remove in production)
# =============================================
# Uncomment these for development/testing
# NODE_ENV=development
# LOG_LEVEL=debug
# FEATURE_CAMS=false
# FEATURE_FLAVOURSTALK=false


