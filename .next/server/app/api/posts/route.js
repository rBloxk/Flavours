"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/posts/route";
exports.ids = ["app/api/posts/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2Froute&page=%2Fapi%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2Froute.ts&appDir=%2FUsers%2Frishalbabu%2FDocuments%2FGitHub%2FFlavours%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frishalbabu%2FDocuments%2FGitHub%2FFlavours&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2Froute&page=%2Fapi%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2Froute.ts&appDir=%2FUsers%2Frishalbabu%2FDocuments%2FGitHub%2FFlavours%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frishalbabu%2FDocuments%2FGitHub%2FFlavours&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/node-polyfill-headers */ \"(rsc)/./node_modules/next/dist/server/node-polyfill-headers.js\");\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var _Users_rishalbabu_Documents_GitHub_Flavours_app_api_posts_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/posts/route.ts */ \"(rsc)/./app/api/posts/route.ts\");\n\n// @ts-ignore this need to be imported from next/dist to be external\n\n\n// @ts-expect-error - replaced by webpack/turbopack loader\n\nconst AppRouteRouteModule = next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__.AppRouteRouteModule;\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__.RouteKind.APP_ROUTE,\n        page: \"/api/posts/route\",\n        pathname: \"/api/posts\",\n        filename: \"route\",\n        bundlePath: \"app/api/posts/route\"\n    },\n    resolvedPagePath: \"/Users/rishalbabu/Documents/GitHub/Flavours/app/api/posts/route.ts\",\n    nextConfigOutput,\n    userland: _Users_rishalbabu_Documents_GitHub_Flavours_app_api_posts_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/posts/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZwb3N0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcG9zdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwb3N0cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnJpc2hhbGJhYnUlMkZEb2N1bWVudHMlMkZHaXRIdWIlMkZGbGF2b3VycyUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGVXNlcnMlMkZyaXNoYWxiYWJ1JTJGRG9jdW1lbnRzJTJGR2l0SHViJTJGRmxhdm91cnMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBZ0Q7QUFDaEQ7QUFDMEY7QUFDM0I7QUFDL0Q7QUFDK0Y7QUFDL0YsNEJBQTRCLGdIQUEwQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNpSjs7QUFFakoiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMvPzIwMzgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwibmV4dC9kaXN0L3NlcnZlci9ub2RlLXBvbHlmaWxsLWhlYWRlcnNcIjtcbi8vIEB0cy1pZ25vcmUgdGhpcyBuZWVkIHRvIGJlIGltcG9ydGVkIGZyb20gbmV4dC9kaXN0IHRvIGJlIGV4dGVybmFsXG5pbXBvcnQgKiBhcyBtb2R1bGUgZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbi8vIEB0cy1leHBlY3QtZXJyb3IgLSByZXBsYWNlZCBieSB3ZWJwYWNrL3R1cmJvcGFjayBsb2FkZXJcbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIvVXNlcnMvcmlzaGFsYmFidS9Eb2N1bWVudHMvR2l0SHViL0ZsYXZvdXJzL2FwcC9hcGkvcG9zdHMvcm91dGUudHNcIjtcbmNvbnN0IEFwcFJvdXRlUm91dGVNb2R1bGUgPSBtb2R1bGUuQXBwUm91dGVSb3V0ZU1vZHVsZTtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Bvc3RzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcG9zdHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Bvc3RzL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3Jpc2hhbGJhYnUvRG9jdW1lbnRzL0dpdEh1Yi9GbGF2b3Vycy9hcHAvYXBpL3Bvc3RzL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3Bvc3RzL3JvdXRlXCI7XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCwgb3JpZ2luYWxQYXRobmFtZSwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2Froute&page=%2Fapi%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2Froute.ts&appDir=%2FUsers%2Frishalbabu%2FDocuments%2FGitHub%2FFlavours%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frishalbabu%2FDocuments%2FGitHub%2FFlavours&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/posts/route.ts":
/*!********************************!*\
  !*** ./app/api/posts/route.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);\n\n\n\n\n// File path for persistent storage\nconst POSTS_FILE = (0,path__WEBPACK_IMPORTED_MODULE_2__.join)(process.cwd(), \"data\", \"posts.json\");\n// Initialize posts data\nasync function initializePosts() {\n    try {\n        // Create data directory if it doesn't exist\n        const dataDir = (0,path__WEBPACK_IMPORTED_MODULE_2__.join)(process.cwd(), \"data\");\n        if (!(0,fs__WEBPACK_IMPORTED_MODULE_3__.existsSync)(dataDir)) {\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.mkdir)(dataDir, {\n                recursive: true\n            });\n        }\n        // Check if posts file exists\n        if ((0,fs__WEBPACK_IMPORTED_MODULE_3__.existsSync)(POSTS_FILE)) {\n            const data = await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.readFile)(POSTS_FILE, \"utf-8\");\n            return JSON.parse(data);\n        } else {\n            // Create initial posts file with sample data\n            const initialPosts = [\n                {\n                    id: \"1\",\n                    creator: {\n                        id: \"user_1\",\n                        username: \"jane_fitness\",\n                        displayName: \"Jane Smith\",\n                        avatarUrl: \"https://images.pexels.com/photos/733872/pexels-photo-733872.jpeg?auto=compress&cs=tinysrgb&w=150\",\n                        isVerified: true,\n                        followerCount: 125000,\n                        engagementRate: 8.5,\n                        category: [\n                            \"fitness\",\n                            \"wellness\",\n                            \"motivation\"\n                        ],\n                        trustScore: 9.2,\n                        isFollowing: true\n                    },\n                    content: \"New workout video is live! \\uD83D\\uDCAA Who's ready to sweat with me? This 30-minute HIIT session will challenge every muscle group. Perfect for beginners and advanced athletes alike! #FitnessMotivation #HIIT #Workout\",\n                    mediaUrl: \"https://images.pexels.com/photos/416809/pexels-photo-416809.jpeg?auto=compress&cs=tinysrgb&w=800\",\n                    mediaType: \"video\",\n                    isPaid: false,\n                    privacy: \"public\",\n                    metrics: {\n                        likesCount: 2340,\n                        commentsCount: 180,\n                        sharesCount: 95,\n                        viewsCount: 15600,\n                        engagementRate: 8.2,\n                        viralityScore: 7.8,\n                        freshnessScore: 9.5,\n                        relevanceScore: 8.9\n                    },\n                    createdAt: \"2h\",\n                    createdAtTimestamp: Date.now() - 2 * 60 * 60 * 1000,\n                    tags: [\n                        \"fitness\",\n                        \"workout\",\n                        \"motivation\",\n                        \"hiit\"\n                    ],\n                    category: \"fitness\",\n                    isLiked: false,\n                    isBookmarked: false,\n                    isViewed: false,\n                    qualityScore: 9.1,\n                    trendingScore: 8.7\n                }\n            ];\n            // Write initial posts to file\n            await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.writeFile)(POSTS_FILE, JSON.stringify(initialPosts, null, 2));\n            return initialPosts;\n        }\n    } catch (error) {\n        console.error(\"Error initializing posts:\", error);\n        return [];\n    }\n}\n// Save posts to file\nasync function savePosts(posts) {\n    try {\n        await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.writeFile)(POSTS_FILE, JSON.stringify(posts, null, 2));\n    } catch (error) {\n        console.error(\"Error saving posts:\", error);\n    }\n}\nasync function GET() {\n    try {\n        // Load posts from persistent storage\n        const posts = await initializePosts();\n        // Return posts sorted by creation time (newest first)\n        const sortedPosts = posts.sort((a, b)=>b.createdAtTimestamp - a.createdAtTimestamp);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            posts: sortedPosts,\n            total: sortedPosts.length\n        });\n    } catch (error) {\n        console.error(\"Error fetching posts:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to fetch posts\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function POST(request) {\n    try {\n        const formData = await request.formData();\n        // Extract post data\n        const content = formData.get(\"content\");\n        const privacy = formData.get(\"privacy\") || \"public\";\n        const tags = JSON.parse(formData.get(\"tags\") || \"[]\");\n        const mentions = JSON.parse(formData.get(\"mentions\") || \"[]\");\n        const location = formData.get(\"location\") || \"\";\n        const isPaidContent = formData.get(\"isPaidContent\") === \"true\";\n        const price = parseFloat(formData.get(\"price\") || \"0\");\n        // Extract user data from form\n        const userDataStr = formData.get(\"userData\") || \"{}\";\n        const userData = JSON.parse(userDataStr);\n        // Use provided user data or fallback to mock data\n        const currentUser = {\n            id: userData.id || \"current_user\",\n            username: userData.username || \"current_user\",\n            displayName: userData.displayName || userData.display_name || \"Current User\",\n            avatarUrl: userData.avatarUrl || userData.avatar_url || \"https://images.pexels.com/photos/1040880/pexels-photo-1040880.jpeg?auto=compress&cs=tinysrgb&w=150\",\n            isVerified: userData.isVerified || false,\n            followerCount: userData.followerCount || 1000,\n            engagementRate: userData.engagementRate || 5.0,\n            category: userData.category || [\n                \"general\"\n            ],\n            trustScore: userData.trustScore || 8.0,\n            isFollowing: false\n        };\n        // Handle file uploads\n        const mediaFiles = [];\n        const files = formData.getAll(\"media\");\n        for (const file of files){\n            if (file.size > 0) {\n                const bytes = await file.arrayBuffer();\n                const buffer = Buffer.from(bytes);\n                // Create uploads directory if it doesn't exist\n                const uploadsDir = (0,path__WEBPACK_IMPORTED_MODULE_2__.join)(process.cwd(), \"public\", \"uploads\");\n                if (!(0,fs__WEBPACK_IMPORTED_MODULE_3__.existsSync)(uploadsDir)) {\n                    await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.mkdir)(uploadsDir, {\n                        recursive: true\n                    });\n                }\n                // Generate unique filename\n                const timestamp = Date.now();\n                const filename = `${timestamp}_${file.name}`;\n                const filepath = (0,path__WEBPACK_IMPORTED_MODULE_2__.join)(uploadsDir, filename);\n                // Save file\n                await (0,fs_promises__WEBPACK_IMPORTED_MODULE_1__.writeFile)(filepath, buffer);\n                // Determine media type\n                let mediaType = \"image\";\n                if (file.type.startsWith(\"video/\")) {\n                    mediaType = \"video\";\n                }\n                mediaFiles.push({\n                    filename,\n                    originalName: file.name,\n                    size: file.size,\n                    type: file.type,\n                    mediaType,\n                    url: `/uploads/${filename}`\n                });\n            }\n        }\n        // Create new post\n        const newPost = {\n            id: `post_${Date.now()}`,\n            creator: currentUser,\n            content,\n            mediaUrl: mediaFiles.length > 0 ? mediaFiles[0].url : undefined,\n            mediaType: mediaFiles.length > 0 ? mediaFiles[0].mediaType : undefined,\n            mediaFiles,\n            isPaid: isPaidContent,\n            price: isPaidContent ? price : undefined,\n            privacy: privacy,\n            metrics: {\n                likesCount: 0,\n                commentsCount: 0,\n                sharesCount: 0,\n                viewsCount: 0,\n                engagementRate: 0,\n                viralityScore: 0,\n                freshnessScore: 10,\n                relevanceScore: 5\n            },\n            createdAt: \"now\",\n            createdAtTimestamp: Date.now(),\n            tags,\n            mentions,\n            location,\n            category: \"general\",\n            isLiked: false,\n            isBookmarked: false,\n            isViewed: false,\n            qualityScore: 5.0,\n            trendingScore: 5.0\n        };\n        // Load existing posts and add new post\n        const existingPosts = await initializePosts();\n        const updatedPosts = [\n            newPost,\n            ...existingPosts\n        ];\n        // Save to persistent storage\n        await savePosts(updatedPosts);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            success: true,\n            post: newPost,\n            message: \"Post created successfully\"\n        });\n    } catch (error) {\n        console.error(\"Error creating post:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Failed to create post\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QVdoQixNQUFNLEdBQUcsSUFBSWdCLFVBQVUsQ0FBQyxFQUFFLENBQUNtQixHQUFHLEdBQUdFO1lBQ3REdkUsV0FBV2tELFdBQVdoQixNQUFNLEdBQUcsSUFBSWdCLFVBQVUsQ0FBQyxFQUFFLENBQUNsRCxTQUFTLEdBQUd1RTtZQUM3RHJCO1lBQ0FqRCxRQUFReUM7WUFDUkMsT0FBT0QsZ0JBQWdCQyxRQUFRNEI7WUFDL0JyRSxTQUFTQTtZQUNUQyxTQUFTO2dCQUNQQyxZQUFZO2dCQUNaQyxlQUFlO2dCQUNmQyxhQUFhO2dCQUNiQyxZQUFZO2dCQUNaYixnQkFBZ0I7Z0JBQ2hCYyxlQUFlO2dCQUNmQyxnQkFBZ0I7Z0JBQ2hCQyxnQkFBZ0I7WUFDbEI7WUFDQUMsV0FBVztZQUNYQyxvQkFBb0JDLEtBQUtDLEdBQUc7WUFDNUJDO1lBQ0F5QjtZQUNBQztZQUNBOUMsVUFBVTtZQUNWcUIsU0FBUztZQUNUQyxjQUFjO1lBQ2RDLFVBQVU7WUFDVkMsY0FBYztZQUNkQyxlQUFlO1FBQ2pCO1FBRUEsdUNBQXVDO1FBQ3ZDLE1BQU1vRCxnQkFBZ0IsTUFBTTVGO1FBQzVCLE1BQU02RixlQUFlO1lBQUNIO2VBQVlFO1NBQWM7UUFFaEQsNkJBQTZCO1FBQzdCLE1BQU1oRCxVQUFVaUQ7UUFFaEIsT0FBT3RHLGtGQUFZQSxDQUFDNEQsSUFBSSxDQUFDO1lBQ3ZCQyxTQUFTO1lBQ1QwQyxNQUFNSjtZQUNOSyxTQUFTO1FBQ1g7SUFFRixFQUFFLE9BQU9yRCxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx3QkFBd0JBO1FBQ3RDLE9BQU9uRCxrRkFBWUEsQ0FBQzRELElBQUksQ0FDdEI7WUFBRVQsT0FBTztRQUF3QixHQUNqQztZQUFFYSxRQUFRO1FBQUk7SUFFbEI7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25leHRqcy8uL2FwcC9hcGkvcG9zdHMvcm91dGUudHM/ZDg3MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyB3cml0ZUZpbGUsIG1rZGlyLCByZWFkRmlsZSB9IGZyb20gJ2ZzL3Byb21pc2VzJ1xuaW1wb3J0IHsgam9pbiB9IGZyb20gJ3BhdGgnXG5pbXBvcnQgeyBleGlzdHNTeW5jIH0gZnJvbSAnZnMnXG5cbi8vIEZpbGUgcGF0aCBmb3IgcGVyc2lzdGVudCBzdG9yYWdlXG5jb25zdCBQT1NUU19GSUxFID0gam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YScsICdwb3N0cy5qc29uJylcblxuLy8gSW5pdGlhbGl6ZSBwb3N0cyBkYXRhXG5hc3luYyBmdW5jdGlvbiBpbml0aWFsaXplUG9zdHMoKSB7XG4gIHRyeSB7XG4gICAgLy8gQ3JlYXRlIGRhdGEgZGlyZWN0b3J5IGlmIGl0IGRvZXNuJ3QgZXhpc3RcbiAgICBjb25zdCBkYXRhRGlyID0gam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YScpXG4gICAgaWYgKCFleGlzdHNTeW5jKGRhdGFEaXIpKSB7XG4gICAgICBhd2FpdCBta2RpcihkYXRhRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KVxuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHBvc3RzIGZpbGUgZXhpc3RzXG4gICAgaWYgKGV4aXN0c1N5bmMoUE9TVFNfRklMRSkpIHtcbiAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZWFkRmlsZShQT1NUU19GSUxFLCAndXRmLTgnKVxuICAgICAgcmV0dXJuIEpTT04ucGFyc2UoZGF0YSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gQ3JlYXRlIGluaXRpYWwgcG9zdHMgZmlsZSB3aXRoIHNhbXBsZSBkYXRhXG4gICAgICBjb25zdCBpbml0aWFsUG9zdHMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzEnLFxuICAgICAgICAgIGNyZWF0b3I6IHtcbiAgICAgICAgICAgIGlkOiAndXNlcl8xJyxcbiAgICAgICAgICAgIHVzZXJuYW1lOiAnamFuZV9maXRuZXNzJyxcbiAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnSmFuZSBTbWl0aCcsXG4gICAgICAgICAgICBhdmF0YXJVcmw6ICdodHRwczovL2ltYWdlcy5wZXhlbHMuY29tL3Bob3Rvcy83MzM4NzIvcGV4ZWxzLXBob3RvLTczMzg3Mi5qcGVnP2F1dG89Y29tcHJlc3MmY3M9dGlueXNyZ2Imdz0xNTAnLFxuICAgICAgICAgICAgaXNWZXJpZmllZDogdHJ1ZSxcbiAgICAgICAgICAgIGZvbGxvd2VyQ291bnQ6IDEyNTAwMCxcbiAgICAgICAgICAgIGVuZ2FnZW1lbnRSYXRlOiA4LjUsXG4gICAgICAgICAgICBjYXRlZ29yeTogWydmaXRuZXNzJywgJ3dlbGxuZXNzJywgJ21vdGl2YXRpb24nXSxcbiAgICAgICAgICAgIHRydXN0U2NvcmU6IDkuMixcbiAgICAgICAgICAgIGlzRm9sbG93aW5nOiB0cnVlXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb250ZW50OiAnTmV3IHdvcmtvdXQgdmlkZW8gaXMgbGl2ZSEg8J+SqiBXaG9cXCdzIHJlYWR5IHRvIHN3ZWF0IHdpdGggbWU/IFRoaXMgMzAtbWludXRlIEhJSVQgc2Vzc2lvbiB3aWxsIGNoYWxsZW5nZSBldmVyeSBtdXNjbGUgZ3JvdXAuIFBlcmZlY3QgZm9yIGJlZ2lubmVycyBhbmQgYWR2YW5jZWQgYXRobGV0ZXMgYWxpa2UhICNGaXRuZXNzTW90aXZhdGlvbiAjSElJVCAjV29ya291dCcsXG4gICAgICAgICAgbWVkaWFVcmw6ICdodHRwczovL2ltYWdlcy5wZXhlbHMuY29tL3Bob3Rvcy80MTY4MDkvcGV4ZWxzLXBob3RvLTQxNjgwOS5qcGVnP2F1dG89Y29tcHJlc3MmY3M9dGlueXNyZ2Imdz04MDAnLFxuICAgICAgICAgIG1lZGlhVHlwZTogJ3ZpZGVvJyxcbiAgICAgICAgICBpc1BhaWQ6IGZhbHNlLFxuICAgICAgICAgIHByaXZhY3k6ICdwdWJsaWMnLFxuICAgICAgICAgIG1ldHJpY3M6IHtcbiAgICAgICAgICAgIGxpa2VzQ291bnQ6IDIzNDAsXG4gICAgICAgICAgICBjb21tZW50c0NvdW50OiAxODAsXG4gICAgICAgICAgICBzaGFyZXNDb3VudDogOTUsXG4gICAgICAgICAgICB2aWV3c0NvdW50OiAxNTYwMCxcbiAgICAgICAgICAgIGVuZ2FnZW1lbnRSYXRlOiA4LjIsXG4gICAgICAgICAgICB2aXJhbGl0eVNjb3JlOiA3LjgsXG4gICAgICAgICAgICBmcmVzaG5lc3NTY29yZTogOS41LFxuICAgICAgICAgICAgcmVsZXZhbmNlU2NvcmU6IDguOVxuICAgICAgICAgIH0sXG4gICAgICAgICAgY3JlYXRlZEF0OiAnMmgnLFxuICAgICAgICAgIGNyZWF0ZWRBdFRpbWVzdGFtcDogRGF0ZS5ub3coKSAtIDIgKiA2MCAqIDYwICogMTAwMCxcbiAgICAgICAgICB0YWdzOiBbJ2ZpdG5lc3MnLCAnd29ya291dCcsICdtb3RpdmF0aW9uJywgJ2hpaXQnXSxcbiAgICAgICAgICBjYXRlZ29yeTogJ2ZpdG5lc3MnLFxuICAgICAgICAgIGlzTGlrZWQ6IGZhbHNlLFxuICAgICAgICAgIGlzQm9va21hcmtlZDogZmFsc2UsXG4gICAgICAgICAgaXNWaWV3ZWQ6IGZhbHNlLFxuICAgICAgICAgIHF1YWxpdHlTY29yZTogOS4xLFxuICAgICAgICAgIHRyZW5kaW5nU2NvcmU6IDguN1xuICAgICAgICB9XG4gICAgICBdXG4gICAgICBcbiAgICAgIC8vIFdyaXRlIGluaXRpYWwgcG9zdHMgdG8gZmlsZVxuICAgICAgYXdhaXQgd3JpdGVGaWxlKFBPU1RTX0ZJTEUsIEpTT04uc3RyaW5naWZ5KGluaXRpYWxQb3N0cywgbnVsbCwgMikpXG4gICAgICByZXR1cm4gaW5pdGlhbFBvc3RzXG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluaXRpYWxpemluZyBwb3N0czonLCBlcnJvcilcbiAgICByZXR1cm4gW11cbiAgfVxufVxuXG4vLyBTYXZlIHBvc3RzIHRvIGZpbGVcbmFzeW5jIGZ1bmN0aW9uIHNhdmVQb3N0cyhwb3N0czogYW55W10pIHtcbiAgdHJ5IHtcbiAgICBhd2FpdCB3cml0ZUZpbGUoUE9TVFNfRklMRSwgSlNPTi5zdHJpbmdpZnkocG9zdHMsIG51bGwsIDIpKVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBwb3N0czonLCBlcnJvcilcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKCkge1xuICB0cnkge1xuICAgIC8vIExvYWQgcG9zdHMgZnJvbSBwZXJzaXN0ZW50IHN0b3JhZ2VcbiAgICBjb25zdCBwb3N0cyA9IGF3YWl0IGluaXRpYWxpemVQb3N0cygpXG4gICAgXG4gICAgLy8gUmV0dXJuIHBvc3RzIHNvcnRlZCBieSBjcmVhdGlvbiB0aW1lIChuZXdlc3QgZmlyc3QpXG4gICAgY29uc3Qgc29ydGVkUG9zdHMgPSBwb3N0cy5zb3J0KChhLCBiKSA9PiBiLmNyZWF0ZWRBdFRpbWVzdGFtcCAtIGEuY3JlYXRlZEF0VGltZXN0YW1wKVxuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgcG9zdHM6IHNvcnRlZFBvc3RzLFxuICAgICAgdG90YWw6IHNvcnRlZFBvc3RzLmxlbmd0aFxuICAgIH0pXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcG9zdHM6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBmZXRjaCBwb3N0cycgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpXG4gICAgXG4gICAgLy8gRXh0cmFjdCBwb3N0IGRhdGFcbiAgICBjb25zdCBjb250ZW50ID0gZm9ybURhdGEuZ2V0KCdjb250ZW50JykgYXMgc3RyaW5nXG4gICAgY29uc3QgcHJpdmFjeSA9IGZvcm1EYXRhLmdldCgncHJpdmFjeScpIGFzIHN0cmluZyB8fCAncHVibGljJ1xuICAgIGNvbnN0IHRhZ3MgPSBKU09OLnBhcnNlKGZvcm1EYXRhLmdldCgndGFncycpIGFzIHN0cmluZyB8fCAnW10nKVxuICAgIGNvbnN0IG1lbnRpb25zID0gSlNPTi5wYXJzZShmb3JtRGF0YS5nZXQoJ21lbnRpb25zJykgYXMgc3RyaW5nIHx8ICdbXScpXG4gICAgY29uc3QgbG9jYXRpb24gPSBmb3JtRGF0YS5nZXQoJ2xvY2F0aW9uJykgYXMgc3RyaW5nIHx8ICcnXG4gICAgY29uc3QgaXNQYWlkQ29udGVudCA9IGZvcm1EYXRhLmdldCgnaXNQYWlkQ29udGVudCcpID09PSAndHJ1ZSdcbiAgICBjb25zdCBwcmljZSA9IHBhcnNlRmxvYXQoZm9ybURhdGEuZ2V0KCdwcmljZScpIGFzIHN0cmluZyB8fCAnMCcpXG4gICAgXG4gICAgLy8gRXh0cmFjdCB1c2VyIGRhdGEgZnJvbSBmb3JtXG4gICAgY29uc3QgdXNlckRhdGFTdHIgPSBmb3JtRGF0YS5nZXQoJ3VzZXJEYXRhJykgYXMgc3RyaW5nIHx8ICd7fSdcbiAgICBjb25zdCB1c2VyRGF0YSA9IEpTT04ucGFyc2UodXNlckRhdGFTdHIpXG4gICAgLy8gVXNlIHByb3ZpZGVkIHVzZXIgZGF0YSBvciBmYWxsYmFjayB0byBtb2NrIGRhdGFcbiAgICBjb25zdCBjdXJyZW50VXNlciA9IHtcbiAgICAgIGlkOiB1c2VyRGF0YS5pZCB8fCAnY3VycmVudF91c2VyJyxcbiAgICAgIHVzZXJuYW1lOiB1c2VyRGF0YS51c2VybmFtZSB8fCAnY3VycmVudF91c2VyJyxcbiAgICAgIGRpc3BsYXlOYW1lOiB1c2VyRGF0YS5kaXNwbGF5TmFtZSB8fCB1c2VyRGF0YS5kaXNwbGF5X25hbWUgfHwgJ0N1cnJlbnQgVXNlcicsXG4gICAgICBhdmF0YXJVcmw6IHVzZXJEYXRhLmF2YXRhclVybCB8fCB1c2VyRGF0YS5hdmF0YXJfdXJsIHx8ICdodHRwczovL2ltYWdlcy5wZXhlbHMuY29tL3Bob3Rvcy8xMDQwODgwL3BleGVscy1waG90by0xMDQwODgwLmpwZWc/YXV0bz1jb21wcmVzcyZjcz10aW55c3JnYiZ3PTE1MCcsXG4gICAgICBpc1ZlcmlmaWVkOiB1c2VyRGF0YS5pc1ZlcmlmaWVkIHx8IGZhbHNlLFxuICAgICAgZm9sbG93ZXJDb3VudDogdXNlckRhdGEuZm9sbG93ZXJDb3VudCB8fCAxMDAwLFxuICAgICAgZW5nYWdlbWVudFJhdGU6IHVzZXJEYXRhLmVuZ2FnZW1lbnRSYXRlIHx8IDUuMCxcbiAgICAgIGNhdGVnb3J5OiB1c2VyRGF0YS5jYXRlZ29yeSB8fCBbJ2dlbmVyYWwnXSxcbiAgICAgIHRydXN0U2NvcmU6IHVzZXJEYXRhLnRydXN0U2NvcmUgfHwgOC4wLFxuICAgICAgaXNGb2xsb3dpbmc6IGZhbHNlXG4gICAgfVxuICAgIFxuICAgIC8vIEhhbmRsZSBmaWxlIHVwbG9hZHNcbiAgICBjb25zdCBtZWRpYUZpbGVzOiBhbnlbXSA9IFtdXG4gICAgY29uc3QgZmlsZXMgPSBmb3JtRGF0YS5nZXRBbGwoJ21lZGlhJykgYXMgRmlsZVtdXG4gICAgXG4gICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XG4gICAgICBpZiAoZmlsZS5zaXplID4gMCkge1xuICAgICAgICBjb25zdCBieXRlcyA9IGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKVxuICAgICAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShieXRlcylcbiAgICAgICAgXG4gICAgICAgIC8vIENyZWF0ZSB1cGxvYWRzIGRpcmVjdG9yeSBpZiBpdCBkb2Vzbid0IGV4aXN0XG4gICAgICAgIGNvbnN0IHVwbG9hZHNEaXIgPSBqb2luKHByb2Nlc3MuY3dkKCksICdwdWJsaWMnLCAndXBsb2FkcycpXG4gICAgICAgIGlmICghZXhpc3RzU3luYyh1cGxvYWRzRGlyKSkge1xuICAgICAgICAgIGF3YWl0IG1rZGlyKHVwbG9hZHNEaXIsIHsgcmVjdXJzaXZlOiB0cnVlIH0pXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEdlbmVyYXRlIHVuaXF1ZSBmaWxlbmFtZVxuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBEYXRlLm5vdygpXG4gICAgICAgIGNvbnN0IGZpbGVuYW1lID0gYCR7dGltZXN0YW1wfV8ke2ZpbGUubmFtZX1gXG4gICAgICAgIGNvbnN0IGZpbGVwYXRoID0gam9pbih1cGxvYWRzRGlyLCBmaWxlbmFtZSlcbiAgICAgICAgXG4gICAgICAgIC8vIFNhdmUgZmlsZVxuICAgICAgICBhd2FpdCB3cml0ZUZpbGUoZmlsZXBhdGgsIGJ1ZmZlcilcbiAgICAgICAgXG4gICAgICAgIC8vIERldGVybWluZSBtZWRpYSB0eXBlXG4gICAgICAgIGxldCBtZWRpYVR5cGU6ICdpbWFnZScgfCAndmlkZW8nID0gJ2ltYWdlJ1xuICAgICAgICBpZiAoZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ3ZpZGVvLycpKSB7XG4gICAgICAgICAgbWVkaWFUeXBlID0gJ3ZpZGVvJ1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBtZWRpYUZpbGVzLnB1c2goe1xuICAgICAgICAgIGZpbGVuYW1lLFxuICAgICAgICAgIG9yaWdpbmFsTmFtZTogZmlsZS5uYW1lLFxuICAgICAgICAgIHNpemU6IGZpbGUuc2l6ZSxcbiAgICAgICAgICB0eXBlOiBmaWxlLnR5cGUsXG4gICAgICAgICAgbWVkaWFUeXBlLFxuICAgICAgICAgIHVybDogYC91cGxvYWRzLyR7ZmlsZW5hbWV9YFxuICAgICAgICB9KVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBDcmVhdGUgbmV3IHBvc3RcbiAgICBjb25zdCBuZXdQb3N0ID0ge1xuICAgICAgaWQ6IGBwb3N0XyR7RGF0ZS5ub3coKX1gLFxuICAgICAgY3JlYXRvcjogY3VycmVudFVzZXIsXG4gICAgICBjb250ZW50LFxuICAgICAgbWVkaWFVcmw6IG1lZGlhRmlsZXMubGVuZ3RoID4gMCA/IG1lZGlhRmlsZXNbMF0udXJsIDogdW5kZWZpbmVkLFxuICAgICAgbWVkaWFUeXBlOiBtZWRpYUZpbGVzLmxlbmd0aCA+IDAgPyBtZWRpYUZpbGVzWzBdLm1lZGlhVHlwZSA6IHVuZGVmaW5lZCxcbiAgICAgIG1lZGlhRmlsZXMsXG4gICAgICBpc1BhaWQ6IGlzUGFpZENvbnRlbnQsXG4gICAgICBwcmljZTogaXNQYWlkQ29udGVudCA/IHByaWNlIDogdW5kZWZpbmVkLFxuICAgICAgcHJpdmFjeTogcHJpdmFjeSBhcyAncHVibGljJyB8ICdmb2xsb3dlcnMnIHwgJ3BhaWQnLFxuICAgICAgbWV0cmljczoge1xuICAgICAgICBsaWtlc0NvdW50OiAwLFxuICAgICAgICBjb21tZW50c0NvdW50OiAwLFxuICAgICAgICBzaGFyZXNDb3VudDogMCxcbiAgICAgICAgdmlld3NDb3VudDogMCxcbiAgICAgICAgZW5nYWdlbWVudFJhdGU6IDAsXG4gICAgICAgIHZpcmFsaXR5U2NvcmU6IDAsXG4gICAgICAgIGZyZXNobmVzc1Njb3JlOiAxMCxcbiAgICAgICAgcmVsZXZhbmNlU2NvcmU6IDVcbiAgICAgIH0sXG4gICAgICBjcmVhdGVkQXQ6ICdub3cnLFxuICAgICAgY3JlYXRlZEF0VGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgdGFncyxcbiAgICAgIG1lbnRpb25zLFxuICAgICAgbG9jYXRpb24sXG4gICAgICBjYXRlZ29yeTogJ2dlbmVyYWwnLFxuICAgICAgaXNMaWtlZDogZmFsc2UsXG4gICAgICBpc0Jvb2ttYXJrZWQ6IGZhbHNlLFxuICAgICAgaXNWaWV3ZWQ6IGZhbHNlLFxuICAgICAgcXVhbGl0eVNjb3JlOiA1LjAsXG4gICAgICB0cmVuZGluZ1Njb3JlOiA1LjBcbiAgICB9XG4gICAgXG4gICAgLy8gTG9hZCBleGlzdGluZyBwb3N0cyBhbmQgYWRkIG5ldyBwb3N0XG4gICAgY29uc3QgZXhpc3RpbmdQb3N0cyA9IGF3YWl0IGluaXRpYWxpemVQb3N0cygpXG4gICAgY29uc3QgdXBkYXRlZFBvc3RzID0gW25ld1Bvc3QsIC4uLmV4aXN0aW5nUG9zdHNdXG4gICAgXG4gICAgLy8gU2F2ZSB0byBwZXJzaXN0ZW50IHN0b3JhZ2VcbiAgICBhd2FpdCBzYXZlUG9zdHModXBkYXRlZFBvc3RzKVxuICAgIFxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgcG9zdDogbmV3UG9zdCxcbiAgICAgIG1lc3NhZ2U6ICdQb3N0IGNyZWF0ZWQgc3VjY2Vzc2Z1bGx5J1xuICAgIH0pXG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY3JlYXRpbmcgcG9zdDonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGNyZWF0ZSBwb3N0JyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59XG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwid3JpdGVGaWxlIiwibWtkaXIiLCJyZWFkRmlsZSIsImpvaW4iLCJleGlzdHNTeW5jIiwiUE9TVFNfRklMRSIsInByb2Nlc3MiLCJjd2QiLCJpbml0aWFsaXplUG9zdHMiLCJkYXRhRGlyIiwicmVjdXJzaXZlIiwiZGF0YSIsIkpTT04iLCJwYXJzZSIsImluaXRpYWxQb3N0cyIsImlkIiwiY3JlYXRvciIsInVzZXJuYW1lIiwiZGlzcGxheU5hbWUiLCJhdmF0YXJVcmwiLCJpc1ZlcmlmaWVkIiwiZm9sbG93ZXJDb3VudCIsImVuZ2FnZW1lbnRSYXRlIiwiY2F0ZWdvcnkiLCJ0cnVzdFNjb3JlIiwiaXNGb2xsb3dpbmciLCJjb250ZW50IiwibWVkaWFVcmwiLCJtZWRpYVR5cGUiLCJpc1BhaWQiLCJwcml2YWN5IiwibWV0cmljcyIsImxpa2VzQ291bnQiLCJjb21tZW50c0NvdW50Iiwic2hhcmVzQ291bnQiLCJ2aWV3c0NvdW50IiwidmlyYWxpdHlTY29yZSIsImZyZXNobmVzc1Njb3JlIiwicmVsZXZhbmNlU2NvcmUiLCJjcmVhdGVkQXQiLCJjcmVhdGVkQXRUaW1lc3RhbXAiLCJEYXRlIiwibm93IiwidGFncyIsImlzTGlrZWQiLCJpc0Jvb2ttYXJrZWQiLCJpc1ZpZXdlZCIsInF1YWxpdHlTY29yZSIsInRyZW5kaW5nU2NvcmUiLCJzdHJpbmdpZnkiLCJlcnJvciIsImNvbnNvbGUiLCJzYXZlUG9zdHMiLCJwb3N0cyIsIkdFVCIsInNvcnRlZFBvc3RzIiwic29ydCIsImEiLCJiIiwianNvbiIsInN1Y2Nlc3MiLCJ0b3RhbCIsImxlbmd0aCIsInN0YXR1cyIsIlBPU1QiLCJyZXF1ZXN0IiwiZm9ybURhdGEiLCJnZXQiLCJtZW50aW9ucyIsImxvY2F0aW9uIiwiaXNQYWlkQ29udGVudCIsInByaWNlIiwicGFyc2VGbG9hdCIsInVzZXJEYXRhU3RyIiwidXNlckRhdGEiLCJjdXJyZW50VXNlciIsImRpc3BsYXlfbmFtZSIsImF2YXRhcl91cmwiLCJtZWRpYUZpbGVzIiwiZmlsZXMiLCJnZXRBbGwiLCJmaWxlIiwic2l6ZSIsImJ5dGVzIiwiYXJyYXlCdWZmZXIiLCJidWZmZXIiLCJCdWZmZXIiLCJmcm9tIiwidXBsb2Fkc0RpciIsInRpbWVzdGFtcCIsImZpbGVuYW1lIiwibmFtZSIsImZpbGVwYXRoIiwidHlwZSIsInN0YXJ0c1dpdGgiLCJwdXNoIiwib3JpZ2luYWxOYW1lIiwidXJsIiwibmV3UG9zdCIsInVuZGVmaW5lZCIsImV4aXN0aW5nUG9zdHMiLCJ1cGRhdGVkUG9zdHMiLCJwb3N0IiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/posts/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fposts%2Froute&page=%2Fapi%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fposts%2Froute.ts&appDir=%2FUsers%2Frishalbabu%2FDocuments%2FGitHub%2FFlavours%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Frishalbabu%2FDocuments%2FGitHub%2FFlavours&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();